extends base.pug

block content
  main
    .flex-box.ma--top-side
      img.icon--large(src='../img/left-arrow.svg' alt='Back Arrow' onclick='history.back()')
      .text--h1.ma--side Account
    form.form--user-settings  
      .box-container
          //- banner image 
          label.text-base--2.ma--side(for='banner-image' class='image-box__cover-box')
            if user.banner.imgData
              div(style=`background-image: url(data:image/${user.banner.contentType};base64,${user.banner.imgData.toString('base64')});` id="banner-img" alt=' ' class='image-box__cover-img')
            else
              //- empty div for image-preview if there is no img form database
              div(id="banner-img" class='image-box__cover-img')
          input#banner-image.input--text(type='file' style="display:none" accept='image/*' placeholder='Banner Image')
          //- profile image
          label.text-base--2.ma--side(for='profile-image' class='image-box__profile-box image-box__profile-box--acc') 
            if user.avatar.imgData
              div(style=`background-image: url(data:image/${user.avatar.contentType};base64,${user.avatar.imgData.toString('base64')});` id="profile-img" alt=' ' class='image-box__profile-img')
            else
              div(style=`background-image: url(../img/users/default.jpg);` id="profile-img" class='image-box__profile-img')
          input#profile-image.input--text(type='file' style="display:none" accept='image/*' placeholder='Profile Image')
          label.text-base--2.ma--side(for='name') Name
          input#name.input--text(type='text' value=`${user.name}` placeholder='Name')
          label.text-base--2.ma--side(for='user-name') Username
          input#user-name.input--text(type='text' value=`${user.userName}` placeholder='Username')
          label.text-base--2.ma--side(for='user-bio') Bio
          textarea#user-bio.input--text(name='user-bio' cols='30' rows='10' placeholder='Bio')
              = user.userBio
          label.text-base--2.ma--side(for='email') Email
          input#email.input--text(type='email' name='email' value=`${user.email}` placeholder='E-mail')
          button.btn.btn--primary.btn--save-data(type='submit') Save
  script(src="/js/file-preview.js" type="module")
